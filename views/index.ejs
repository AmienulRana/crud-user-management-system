<%- include('layout/header.ejs') %>


<div class="container add-user">
  <div class="row">
    <div class="col-md-2">
      <a href="/add" class="btn add-user">New User</a>
    </div>
  </div>
</div>

<div class="container all-user">
  <div class="row">
    <div class="col-8">
      <table class="table">
        <thead>
          <tr class="" style="background:#5aad6c !important; color:white;">
            <th scope="col">No.</th>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Action</th>
          </tr>
        </thead>
        <% if(allUser.length < 1){ %>
          <div class="alert alert-success" role="alert" style="width:30%;">
            <a class="alert-link">Tidak Ada daftar User</a>
          </div>
        <% } %>
        <tbody>
          <% let no = 0; %>
          <% allUser.forEach((user, i) => { no++ %>
            <tr>
              <th scope="row"><%= no%></th>
              <td class="nama"><%=user.nama %></td>
              <td><%= user.email %></td>
              <td>
                <div class="flex">
                  <a href='/delete-user?id=<%=user.id %>' class="mx-2 btn btn-dark badge hapus"><ion-icon name="trash"></ion-icon></a>
                  <a href='/detail-user?id=<%= user.id%>' class="btn btn-dark badge detail">  <ion-icon name="arrow-forward"></ion-icon></a>
                </div>
              </td>
            </tr>
          <% }); %>
        </tbody>
      </table>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="new-user" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
         <h3  style="color:#5aad6c;">New User</h3>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row justify-content-center">
          <div class="col-md-10">
            <form action="/" method="post" class="form-add" enctype="multipart/form-data">
              <div class="position-relative mb-5">
                <input type="file" class="custom-file-input text" name="profile" id="profile">
              </div>
              <div class="mb-5 position-relative">
                <input type="text" placeholder="Nama" class="text" id="nama" name="nama" required>
              </div>
              <div class="mb-5 position-relative">
                <input type="text" placeholder="Nama Panggilan" class="text" id="namaPanggilan" name="namaPanggilan" required>
              </div>
              <div class="mb-5 position-relative">

                <input type="email" placeholder="Email" class="text" id="email" name="email" required>
              </div>
              <div class="flex mb-5">
                  <input class="form-check-input" type="radio" name="jenisKelamin" value="Pria" id="pria">
                  <label class="form-check-label" for="pria">
                    Pria
                  </label>
                  <input class="form-check-input ms-5" type="radio" value="Wanita" name="jenisKelamin" id="wanita">
                  <label class="form-check-label" for="wanita">
                    Wanita
                  </label>
              </div>
              <button type="submit" class="btn add-user color-white">Add User</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('layout/footer.ejs') %>
